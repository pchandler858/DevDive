<body class="">
  <div class="min-h-screen py-6 flex flex-col sm:py-12">
      {{#each blogData as |post|}}
        <div>
          <article
            class="bg-white rounded-lg shadow-md mb-8 lg:w-full w-11/12 mx-auto"
          >
            <div
              class="flex items-center justify-between bg-gray-800 px-4 py-2 rounded-t-lg"
            >
              <div class="flex items-center">
                <h2
                  class="text-xl font-bold text-white relative mr-2 cursor-default"
                >{{post.title}}</h2>
                {{#if ../loggedIn}}
                <span class="text-red-500 group" title="Add comment">
                  <svg
                    class="h-8 w-8 group:hover:text-red-600 cursor-pointer"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
                    <line x1="12" y1="8" x2="12" y2="16" />
                    <line x1="8" y1="12" x2="16" y2="12" />
                  </svg>
                </span>
                {{/if}}
              </div>
              <p class="text-gray-300 text-sm">Posted by
                {{post.user.name}}
                on
                {{format_date post.post_date}}</p>
            </div>
            <div class="p-4 pt-4">
              <p class="text-gray-800">{{post.post}}</p>
              <div class="mt-4 bg-gray-200">
                {{#each post.comments as |comment|}}
                  {{#if comment.comments}}
                    <div class="px-4">
                      <h3 class="text-lg font-semibold pt-3">Comments</h3>
                    </div>
                    <ul class="mt-2 px-4 py-2 space-y-4">
                      <li class="border-t border-black">
                        <p class="text-gray-800 pt-2">{{this.comment_text}}</p>
                        <br />
                        <p class="text-gray-600 text-sm">-
                          {{this.comment_user}}
                          on
                          {{this.comment_date}}</p>
                      </li>
                    </ul>
                  {{/if}}
                {{/each}}
              </div>
            </div>
          </article>
        </div>
      {{/each}}
  </div>
  <script src="/js/logout.js"></script>
  {{#if loggedIn}}
  <script>
    window.onload = function() {
      if (!sessionStorage.getItem('alertDisplayed')) {
        alert(`You can click the "+" icon to add a comment to a post.`);
        sessionStorage.setItem('alertDisplayed', 'true');
      }
    }
  </script>
  {{/if}}
</body>